

<html>
    <head>
    
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Carousel</title>
<style>
#content {
    margin: 1em auto;
    max-width: 60em;
}
h2 {
    text-align: center;
    font-family: "Concourse C3";
    text-transform: uppercase;
}
.carousel_parent {
    width: 500px;
    overflow-x: hidden;
    margin: 1em auto;
    border: solid 2px black;

}
.carousel {
    height: 500px;
    width: 2500px;
    transform: translateX(0%);
}
.animated {
    transition: transform 0.3s ease-out;
}
.post {
    height: 500px;
    width: 500px;
    text-align: center;
    color: white;
    display: inline-block;
    transform: translateX(0%);

}
.odd {
    background-color: brown;
}
.even {
    background-color: mediumaquamarine;
}
.hidden {
    display: none;
}
</style>
<script>
    window.addEventListener("load", function () {
        var carousel = document.querySelector(".carousel");
        var width = carousel.parentElement.clientWidth;
        var net_width = carousel.clientWidth;
        var bounds = width-net_width;
        console.log("bounds: " + bounds);
        var swipe_start_x;
        var swipe_delta_x;
        var net_translate = 0;
        function swipe_start(event) {
            swipe_start_x = event.touches[0].clientX;
        }
        function swipe_move(event) {
            var swipe_move_x = event.touches[0].clientX;
            var swipe_delta_x = swipe_move_x - swipe_start_x;
            var translate_x = net_translate + swipe_delta_x;
            // console.log("[swipe_move] delta: " + swipe_delta_x);
            if (translate_x > 0) {
                translate_x = 0;
            } else if (translate_x < bounds) {
                translate_x = bounds;
            }
            carousel.style.transform = "translateX("+translate_x+"px)";
        }
        function swipe_end(event) {
            var swipe_end_x = event.changedTouches[0].pageX;
            var swipe_delta_x = swipe_end_x - swipe_start_x;

            carousel.classList.add("animated");
            setTimeout(function () {
                carousel.classList.remove("animated");
            }, 400);
            var old_transition = carousel.style.transition;

            if (swipe_delta_x < 0) {
                console.log("translate left");
                net_translate = net_translate - width;
                if (net_translate < bounds) {
                    net_translate = bounds;
                }
                carousel.style.transform = "translateX(" + net_translate + "px)";
            } else if (swipe_delta_x > 0) {
                console.log("translate right");
                net_translate = net_translate + width;
                if (net_translate > 0) {
                    net_translate = 0;
                }
                carousel.style.transform = "translateX(" + net_translate + "px)";
            }


        }
        carousel.addEventListener("touchstart", swipe_start);
        carousel.addEventListener("touchmove", swipe_move);
        carousel.addEventListener("touchend", swipe_end);
    });
</script>
    </head>
    <body>
        <div id="content">
<h2>Carousel</h2>

<div class="carousel_parent">
    <div class="carousel">
<div class="post odd">
    1</div><div class="post even">
    2</div><div class="post odd">
    3</div><div class="post even">
    4</div><div class="post odd">
5</div>
    </div>
</div>
        </div>
    </body>
</html>
